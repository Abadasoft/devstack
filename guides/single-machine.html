<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Single Machine Guide - DevStack</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../assets/css/bootstrap.css" rel="stylesheet">
    <link href="../assets/css/local.css" rel="stylesheet">
    <style type="text/css">
      body { padding-top: 60px; }
      dd { padding: 10px; }
    </style>
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
        <div class="container">
          <a class="brand" href="#">DevStack</a>
          <ul class="nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      <section id="overview">
        <h1>All-In-One: Laptop With Home Router</h1>
        <p>Things are about to get real!  Using OpenStack in containers or VMs is nice for kicking the tires, but doesn't compare to the feeling you get with hardware.</p>
      </section>

      <section id="requirements">
        <div class="page-header">
          <h2>Prerequisites <small>Linux & Network</small></h2>
        </div>
        
        <h3>Minimal Ubuntu Install</h3>
        <p>You need to have a system with a fresh install of Ubuntu 11.04 (Natty).  You can download the <a href="https://help.ubuntu.com/community/Installation/MinimalCD">Minimal CD</a> for Natty (only 19MB) since devstack will download &amp; install all the additional dependencies.</p>
        
        <h3>Network Configuration</h3>
        <p>Next you need to determine your network configuration for your home router so that your openstack cloud will be integrated with your existing network.</p>
        <p>For my home network the IPs given out by DHCP are 192.168.1.X - where X is between 100 and 200.  In this case I'll be able to use IPs 201-250 for <b>floating ips</b>.</p>
        <p>To make things easier switch your box to not using 
      </section>

      <section id="requirements">
        <div class="page-header">
          <h2>Installation <small>shake and bake</small></h2>
        </div>

        <h3>Add your user</h3>
        <p>We need to add a user to install devstack.  (if you created a user during install you can skip this step and just give the user sudo priviledges below)</p>
        <pre>adduser stack</pre>
        <p>Since this user will be making many changes to your system, it will need to have sudo priviledges.</p>
        <pre>apt-get install sudo -y
echo "stack ALL=(ALL) NOPASSWD: ALL" &gt;&gt; /etc/sudoers</pre>
        <p>From here on you should use the user you created.  <b>Logout</b> and login as the normal user.</p>

        <h3>Download DevStack</h3>
        <p>We'll grab the latest version of devstack via git</p>
        <pre>sudo apt-get install git -y
git clone git://github.com/cloudbuilders/devstack.git
cd devstack</pre>

        <h3>Run DevStack</h3>


        <p>Now to configure stack.sh.  First we will set our FLOATING_RANGE to a range used by our router.</p>
        <pre>FLOATING_RANGE=192.168.1.224/27
FIXED_RANGE=10.0.0.0/24
FIXED_NETWORK_SIZE=256
ADMIN_PASSWORD=supersecret
FLAT_INTERFACE=eth0</pre>

        <p>Run devstack</p>
        <pre>./stack.sh</pre>

        <h3>Using OpenStack</h3>

        <p>At this point you should be able to access the dashboard from other computers on your home network...  Launch VMs and if you give them floating IPs access those VMs from other machines on your network.</p>

      <footer>
        <p>&copy; Openstack LLC 2011 &mdash; this is not an official OpenStack project...</p>
      </footer>

    </div> <!-- /container -->

  </body>
</html>
